!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.TextareaSuggestion=t()}}(function(){return function t(e,n,i){function r(o,a){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,n){"use strict";!function(){function t(t,e){var r=document.createElement("div");r.id="input-textarea-caret-position-mirror-div",document.body.appendChild(r);var s=r.style,o=window.getComputedStyle?getComputedStyle(t):t.currentStyle;s.whiteSpace="pre-wrap","INPUT"!==t.nodeName&&(s.wordWrap="break-word"),s.position="absolute",s.visibility="hidden",n.forEach(function(t){s[t]=o[t]}),i?t.scrollHeight>parseInt(o.height)&&(s.overflowY="scroll"):s.overflow="hidden",r.textContent=t.value.substring(0,e),"INPUT"===t.nodeName&&(r.textContent=r.textContent.replace(/\s/g,"Â "));var a=document.createElement("span");a.textContent=t.value.substring(e)||".",r.appendChild(a);var l={top:a.offsetTop+parseInt(o.borderTopWidth),left:a.offsetLeft+parseInt(o.borderLeftWidth)};return document.body.removeChild(r),l}var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],i=null!=window.mozInnerScreenX;"undefined"!=typeof e&&"undefined"!=typeof e.exports?e.exports=t:window.getCaretCoordinates=t}()},{}],2:[function(t,e,n){String.prototype.startsWith||!function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(i){}return n}(),e={}.toString,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var i=n.length,r=String(t),s=r.length,o=arguments.length>1?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var l=Math.min(Math.max(a,0),i);if(s+l>i)return!1;for(var h=-1;++h<s;)if(n.charCodeAt(l+h)!=r.charCodeAt(h))return!1;return!0};t?t(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}()},{}],3:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t("string.prototype.startswith");var s=t("./../bower_components/textarea-caret-position/index.js"),o=function(){function t(e,n){if(i(this,t),!e)throw new Error("Invalid element");"string"==typeof e&&(e=document.querySelector(e)),this.selectedIndex=-1,this.suggestions=[],this.textarea=e,this.textareaStyle=getComputedStyle(this.textarea),this.textareaFontSize=this.textareaStyle["font-size"].replace(/(px)/,"")-0,this.container=null,this.list=[],this.setSuggestion(n),this.prepareContainer(),this.selectionStart=0,this.selectionEnd=0,this.inputText="",this.lastInputText="",this.isDeleted=!1,e.addEventListener("input",this.onInput.bind(this)),e.addEventListener("keydown",this.onKeyDown.bind(this))}return r(t,[{key:"onInput",value:function(t){this.selectionStart=t.target.selectionStart,this.selectionEnd=t.target.selectionEnd,this.lastInputText=this.isDeleted?"":this.textarea.value.substring(this.selectionEnd-1,this.selectionEnd),this.isShown?this.isDeleted&&0!==this.inputText.length?this.inputText=this.inputText.substring(0,this.inputText.length-1):this.inputText+=this.lastInputText:this.inputText=this.lastInputText,0!==this.inputText.length&&0!==this.matchedSuggestions.length?(this.prepareItems(),this.showPopup()):this.hidePopup()}},{key:"onKeyDown",value:function(t){switch(t.keyCode){case 8:this.isDeleted=!0;break;case 13:this.isSelected&&(t.preventDefault(),this.insertText(this.selectedSuggestion)),this.hidePopup();break;case 38:this.selectedIndex>0&&this.selectedIndex--,this.isShown&&(t.preventDefault(),this.highlightSelectedIndex());break;case 40:this.selectedIndex<this.matchedSuggestions.length-1&&this.selectedIndex++,this.isShown&&(t.preventDefault(),this.highlightSelectedIndex());break;default:this.isDeleted=!1}}},{key:"highlightSelectedIndex",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.list[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;s.classList.remove("is-selected")}}catch(o){e=!0,n=o}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw n}}this.list[this.selectedIndex].classList.add("is-selected")}},{key:"setSuggestion",value:function(){var t=void 0===arguments[0]?[]:arguments[0];Array.isArray(t)||(t=[t]),this.suggestions.length=0;var e=!0,n=!1,i=void 0;try{for(var r,s=t[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;"string"==typeof o&&this.suggestions.push(o)}}catch(a){n=!0,i=a}finally{try{!e&&s["return"]&&s["return"]()}finally{if(n)throw i}}}},{key:"prepareContainer",value:function(){null==this.container&&(this.container=document.createElement("ul"),this.container.className="suggestion",this.container.style.position="absolute",this.container.style.display="none",this.container.style.listStyle="none",document.body.appendChild(this.container))}},{key:"onSuggestionClick",value:function(t){this.insertText(t.target.textContent),this.hidePopup()}},{key:"prepareItems",value:function(){this.list.length=0,this.container.innerHTML="";var t=!0,e=!1,n=void 0;try{for(var i,r=this.matchedSuggestions[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value,o=document.createElement("li");o.className="suggestion__item",o.textContent=s,o.addEventListener("click",this.onSuggestionClick.bind(this)),this.list.push(o),this.container.appendChild(o)}}catch(a){e=!0,n=a}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw n}}}},{key:"insertText",value:function(t){this.textarea.setSelectionRange(this.selectionEnd-this.inputText.length,this.selectionEnd),this.textarea.setRangeText(t);var e=this.selectionEnd+t.length;this.textarea.setSelectionRange(e,e)}},{key:"showPopup",value:function(){var t=this.popupPosition;this.container.style.top=t.top+this.textareaFontSize+"px",this.container.style.left=t.left+"px",this.container.style.display="block",this.container.classList.add("is-shown")}},{key:"hidePopup",value:function(){this.container.style.display="none",this.selectedIndex=-1,this.container.classList.remove("is-shown");var t=!0,e=!1,n=void 0;try{for(var i,r=this.list[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;s.classList.remove("is-selected")}}catch(o){e=!0,n=o}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw n}}}},{key:"isSelected",get:function(){return this.isShown&&-1!==this.selectedIndex}},{key:"isShown",get:function(){return this.container.classList.contains("is-shown")}},{key:"matchedSuggestions",get:function(){var t=this;return this.suggestions.filter(function(e){return e.startsWith(t.inputText)})}},{key:"selectedSuggestion",get:function(){return this.matchedSuggestions[this.selectedIndex]}},{key:"popupPosition",get:function(){var t=s(this.textarea,this.textarea.selectionEnd);return{top:this.textarea.offsetTop+t.top,left:this.textarea.offsetLeft+t.left}}}]),t}();n["default"]=o,e.exports=n["default"]},{"./../bower_components/textarea-caret-position/index.js":1,"string.prototype.startswith":2}]},{},[3])(3)});